<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
   <meta http-equiv="content-type" content="text/html;charset=UTF-8">
   <link href="style.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript">    function showPic(toast) {        Git.showPic(toast);    }		function playVedio(url) {    	Git.playVideo(url);    }</script>    
   
</head>
<body>
    <p>在Git中，删除也是一个修改操作，我们实战一下，先添加一个新文件test.txt到Git并且提交：</p>

<pre><code class="bash">$ git add test.txt
$ git commit -m <span class="string">"add test.txt"</span>
<span class="test_condition">[master 94cdc44]</span> add test.txt
 1 file changed, 1 insertion(+)
 create mode 100644 test.txt
</code></pre>

<p>一般情况下，你通常直接在文件管理器中把没用的文件删了，或者用rm命令删了：</p>

<pre><code class="bash">$ rm test.txt
</code></pre>

<p>这个时候，Git知道你删除了文件，因此，工作区和版本库就不一致了，git status命令会立刻告诉你哪些文件被删除了：</p>

<pre><code class="java">$ git status
# On branch master
# Changes not staged <span class="keyword">for</span> commit:
#   (use <span class="string">"git add/rm &lt;file&gt;..."</span> to update what will be committed)
#   (use <span class="string">"git checkout -- &lt;file&gt;..."</span> to discard changes in working directory)
#
#       deleted:    test.txt
#
no changes added to commit (use <span class="string">"git add"</span> and/or <span class="string">"git commit -a"</span>)
</code></pre>

<p>现在你有两个选择，一是确实要从版本库中删除该文件，那就用命令git rm删掉，并且commit：</p>

<pre><code class="bash">$ git rm test.txt
rm <span class="string">'test.txt'</span>
$ git commit -m <span class="string">"remove test.txt"</span>
<span class="test_condition">[master d17efd8]</span> remove test.txt
 1 file changed, 1 deletion(-)
 delete mode 100644 test.txt
</code></pre>

<p>现在，文件就从版本库中被删除了。</p>

<p><img src="images/vedio.png" width="100%" onClick="playVedio('http://liaoxuefeng-liaoxuefeng.stor.sinaapp.com/learngit/video/git-rm.mp4')"></p>
<p>另一种情况是删错了，因为版本库里还有呢，所以可以很轻松地把误删的文件恢复到最新版本：</p>

<pre><code class="bash">$ git checkout -- test.txt
</code></pre>

<p>git checkout其实是用版本库里的版本替换工作区的版本，无论工作区是修改还是删除，都可以“一键还原”。</p>

<h2>小结</h2>

<p>命令git rm用于删除一个文件。如果一个文件已经被提交到版本库，那么你永远不用担心误删，但是要小心，你只能恢复文件到最新版本，你会丢失<strong>最近一次提交后你修改的内容</strong>。</p>

</body>
</html>